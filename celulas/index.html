<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>C√©lulas | Family Church</title>
  <meta name="description" content="C√©lulas (Small Groups) da Family Church. Encontros semanais √†s quintas-feiras para estudo b√≠blico e comunh√£o." />
  <meta name="base-path" content="../" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="../css/global.css" />
  <style>
    .season-current {
      background: linear-gradient(145deg, var(--navy) 0%, var(--navy-light) 100%);
      border-radius: var(--radius);
      padding: 48px;
      color: var(--white);
      margin-bottom: 48px;
    }
    .season-current .season-label {
      font-size: 0.8rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 2px;
      color: var(--accent);
      margin-bottom: 12px;
    }
    .season-current h2 {
      font-size: 2rem;
      margin-bottom: 16px;
      color: var(--white);
    }
    .season-current p {
      color: rgba(255,255,255,0.75);
      font-size: 1.05rem;
      line-height: 1.7;
      max-width: 600px;
    }
    .season-meta {
      display: flex;
      gap: 32px;
      margin-top: 24px;
      flex-wrap: wrap;
    }
    .season-meta-item {
      display: flex;
      align-items: center;
      gap: 8px;
      color: rgba(255,255,255,0.8);
      font-size: 0.95rem;
    }
    .past-seasons-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 20px;
    }
    .past-season-card {
      background: var(--white);
      border: 1px solid var(--gray-light);
      border-radius: var(--radius);
      padding: 28px;
      transition: var(--transition);
    }
    .past-season-card:hover {
      box-shadow: var(--shadow);
      border-color: transparent;
    }
    .past-season-card .year {
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--accent);
      letter-spacing: 1px;
      margin-bottom: 8px;
    }
    .past-season-card h3 {
      font-family: 'Inter', sans-serif;
      font-weight: 600;
      font-size: 1.1rem;
      color: var(--navy);
      margin-bottom: 8px;
    }
    .past-season-card p {
      color: var(--text-light);
      font-size: 0.9rem;
    }
  </style>
</head>

<body>

  <div id="header-placeholder"></div>

  <!-- ‚ïê‚ïê‚ïê PAGE HEADER ‚ïê‚ïê‚ïê -->
  <section class="page-header">
    <div class="container">
      <h1 data-en="Small Groups" data-pt="C√©lulas">C√©lulas</h1>
      <p data-en="Weekly gatherings for Bible study, fellowship, and spiritual growth. Every Thursday." data-pt="Encontros semanais para estudo b√≠blico, comunh√£o e crescimento espiritual. Toda quinta-feira.">Encontros semanais para estudo b√≠blico, comunh√£o e crescimento espiritual. Toda quinta-feira.</p>
    </div>
  </section>

  <!-- ‚ïê‚ïê‚ïê CONTENT ‚ïê‚ïê‚ïê -->
  <section class="section">
    <div class="container">

      <!-- Current Season -->
      <div id="current-season" class="fade-in">
        <!-- Rendered by JS -->
      </div>

      <!-- About C√©lulas -->
      <div class="fade-in" style="max-width: 700px; margin: 0 auto 60px; text-align: center;">
        <h2 style="color: var(--navy); margin-bottom: 16px;" data-en="What Are C√©lulas?" data-pt="O Que S√£o C√©lulas?">O Que S√£o C√©lulas?</h2>
        <p style="color: var(--text-light); font-size: 1.05rem; line-height: 1.8;" data-en="C√©lulas (Small Groups) are intimate gatherings where we dive deeper into God's Word together. Each year we explore a different book or theme from the Bible. It's a space to ask questions, share experiences, and grow in faith as a community. Everyone is welcome ‚Äî whether you're new to faith or have been walking with God for years." data-pt="C√©lulas s√£o encontros √≠ntimos onde mergulhamos mais fundo na Palavra de Deus juntos. A cada ano exploramos um livro ou tema diferente da B√≠blia. √â um espa√ßo para fazer perguntas, compartilhar experi√™ncias e crescer na f√© como comunidade. Todos s√£o bem-vindos ‚Äî seja voc√™ novo na f√© ou caminhando com Deus h√° anos.">C√©lulas s√£o encontros √≠ntimos onde mergulhamos mais fundo na Palavra de Deus juntos. A cada ano exploramos um livro ou tema diferente da B√≠blia. √â um espa√ßo para fazer perguntas, compartilhar experi√™ncias e crescer na f√© como comunidade. Todos s√£o bem-vindos ‚Äî seja voc√™ novo na f√© ou caminhando com Deus h√° anos.</p>
      </div>

      <!-- Past Seasons -->
      <div class="section-header fade-in" style="margin-bottom: 32px;">
        <p class="section-label" data-en="Previous Seasons" data-pt="Temporadas Anteriores">Temporadas Anteriores</p>
        <h2 data-en="What We've Studied" data-pt="O Que J√° Estudamos">O Que J√° Estudamos</h2>
      </div>

      <div id="past-seasons" class="past-seasons-grid">
        <!-- Rendered by JS -->
      </div>

    </div>
  </section>

  <div id="footer-placeholder"></div>

  <script src="../js/global.js"></script>
  <script>
    async function loadGroups() {
      try {
        const res = await fetch('../data/groups.json');
        if (!res.ok) return;
        const groups = await res.json();
        const lang = currentLang || 'pt';

        const current = groups.find(g => g.current);
        const past = groups.filter(g => !g.current);

        // Render current season
        const currentEl = document.getElementById('current-season');
        if (currentEl && current) {
          const topic = lang === 'en' ? current.topic_en : current.topic_pt;
          const day = lang === 'en' ? current.day_en : current.day_pt;
          currentEl.innerHTML = `
            <div class="season-current">
              <p class="season-label" data-en="Current Season ${current.year}" data-pt="Temporada Atual ${current.year}">${lang === 'en' ? 'Current Season' : 'Temporada Atual'} ${current.year}</p>
              <h2 data-en="${current.topic_en}" data-pt="${current.topic_pt}">${topic}</h2>
              <p data-en="Join us this season as we explore this topic together in our weekly small group meetings." data-pt="Junte-se a n√≥s nesta temporada enquanto exploramos este tema juntos nos nossos encontros semanais.">
                ${lang === 'en' ? 'Join us this season as we explore this topic together in our weekly small group meetings.' : 'Junte-se a n√≥s nesta temporada enquanto exploramos este tema juntos nos nossos encontros semanais.'}
              </p>
              <div class="season-meta">
                <div class="season-meta-item">
                  <span>üìÖ</span>
                  <span data-en="${current.day_en}" data-pt="${current.day_pt}">${day}</span>
                </div>
                <div class="season-meta-item">
                  <span>üìç</span>
                  <span>Family Church ‚Äî 18 Cushing Street</span>
                </div>
              </div>
            </div>
          `;
        }

        // Render past seasons
        const pastEl = document.getElementById('past-seasons');
        if (pastEl) {
          if (past.length > 0) {
            pastEl.innerHTML = past.map(g => {
              const topic = lang === 'en' ? g.topic_en : g.topic_pt;
              const day = lang === 'en' ? (g.day_en || 'Thursdays') : (g.day_pt || 'Quintas-feiras');
              return `
                <div class="past-season-card fade-in">
                  <p class="year">${g.year}</p>
                  <h3 data-en="${g.topic_en}" data-pt="${g.topic_pt}">${topic}</h3>
                  <p data-en="${g.day_en || 'Thursdays'}" data-pt="${g.day_pt || 'Quintas-feiras'}">${day}</p>
                </div>
              `;
            }).join('');
          } else {
            pastEl.innerHTML = `<p style="text-align:center; color:var(--text-light);" data-en="First season ‚Äî no past records yet!" data-pt="Primeira temporada ‚Äî sem registros anteriores!">Primeira temporada ‚Äî sem registros anteriores!</p>`;
          }
        }

        // Re-init animations
        if (typeof initScrollAnimations === 'function') initScrollAnimations();
        if (typeof setLang === 'function') setLang(currentLang);

      } catch (e) {
        console.error('Failed to load groups:', e);
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      setTimeout(loadGroups, 150);
    });
  </script>

</body>
</html>
